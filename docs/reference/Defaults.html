<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Default Parameter Settings and Handling Functions — Defaults • sos4R</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Default Parameter Settings and Handling Functions — Defaults" />
<meta property="og:description" content="These values are default parameters and handling functions for connections and requests to, as well as response processing of answers from, Sensor Observation Services. These allow to simplify a SOS connection for the most common use cases and non-expert users." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sos4R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/sos4R.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/sos4R-vignette-02-ogc-sos.html">OGC SWE and SOS</a>
    </li>
    <li>
      <a href="../articles/sos4R-vignette-03-sos-operations.html">SOS Operations</a>
    </li>
    <li>
      <a href="../articles/sos4R-vignette-04-extensions.html">Extending sos4R and advanced configuration</a>
    </li>
    <li>
      <a href="../articles/sos4R-vignette-05-wrapper-functions.html">Wrapper Functions for easier SOS access</a>
    </li>
    <li>
      <a href="../articles/sos4R-vignette-10-egu-2020.html">EGU2020 Blog Post</a>
    </li>
    <li>
      <a href="../articles/sos4R-vignette-99-services.html">List of SOS services</a>
    </li>
  </ul>
</li>
<li>
  <a href="../DEV-README.html">Developer Docs</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/52North/sos4R">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Default Parameter Settings and Handling Functions</h1>
    
    <div class="hidden name"><code>Defaults.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>These values are default parameters and handling functions for connections and requests to, as well as response processing of answers from, Sensor Observation Services. These allow to simplify a SOS connection for the most common use cases and non-expert users.</p>
    </div>

    <pre class="usage"><span class='fu'>SosDefaultBinding</span>()

<span class='fu'>SosParsingFunctions</span>(<span class='no'>...</span>, <span class='kw'>include</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(<span class='fl'>0</span>), <span class='kw'>exclude</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(<span class='fl'>0</span>))
<span class='fu'>SosEncodingFunctions</span>(<span class='no'>...</span>, <span class='kw'>include</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(<span class='fl'>0</span>), <span class='kw'>exclude</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(<span class='fl'>0</span>))
<span class='fu'>SosDataFieldConvertingFunctions</span>(<span class='no'>...</span>, <span class='kw'>include</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(<span class='fl'>0</span>), <span class='kw'>exclude</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span>(<span class='fl'>0</span>))

<span class='fu'>SosDisabledParsers</span>()

<span class='fu'>SosDefaults</span>()

<span class='fu'>SosResetParsingFunctions</span>(<span class='no'>sos</span>)

<span class='fu'>SosDefaultDCPs</span>()

<span class='fu'>SosDefaultParsingOptions</span>()</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>Named references to functions to be used for the respective element during parsing, encoding or conversion, e.g. <code>"myUnit" = myUnitParser</code>.</p></td>
    </tr>
    <tr>
      <th>include</th>
      <td><p>A list of names of elements whose functions shall be included in the returned list, e.g. <code>include = c("GetObservation", "DescribeSensor")</code>. This inclusion is done <b>after</b> replacing the default functions based on the <code>...</code> argument.</p></td>
    </tr>
    <tr>
      <th>exclude</th>
      <td><p>A list of names of elements whose functions shall be excluded in the returned list, e.g. <code>exclude = c("DescribeSensor")</code>. This exclusion is done <b>after</b> replacing the default functions based on the <code>...</code> argument.</p></td>
    </tr>
    <tr>
      <th>sos</th>
      <td><p>An object of class <code>SOS</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The default values are strongly related to what is actually implemented in the package, but also often resemble the (hopefully) most common use cases.</p>
<p>Some defaults are accessed directly, others should be accessed using a function. The latter is required for cases where a runtime evaluation is needed, e.g. for default values of construction functions.</p>
<p>A special case are the functions to access the default functions for specific purposes, which are the parsing functions, the encoding functions and the field converting functions. See the examples on how to use them.</p>
<p>The function <code>SosDisabledParsers</code> can be used to use no parsing at all (despite the parsing for the capabilities response, which is required for establishing a connection to a SOS. This function is helpful to inspect the unprocessed responses from a service.</p>
<p>The function <code>SosResetParsingFunctions</code> can be used to replace the included parsing functions of a <code>SOS</code> object with the default ones. This is even useful for development of the default parsing functions.</p>
<p><b>The default parameter values are:</b></p><dl'>
	<dt>sosDefaultCharacterEncoding</dt><dd><p><code>\Sexpr[results=verbatim,stage=render]{sosDefaultCharacterEncoding}</code></p></dd> % "UTF-8"
	<dt>sosDefaultDescribeSensorOutputFormat</dt><dd><p><code>\Sexpr[results=text,stage=render]{sosDefaultDescribeSensorOutputFormat}</code></p></dd>
	<dt>sosDefaultGetCapSections</dt><dd><p><code>\Sexpr[results=text,stage=render]{sosDefaultGetCapSections}</code></p></dd> % c("All")
	<dt>sosDefaultGetCapAcceptFormats</dt><dd><p><code>\Sexpr[results=text,stage=render]{sosDefaultGetCapAcceptFormats}</code></p></dd> % c("text/xml")
	<dt>sosDefaultGetCapOwsVersion</dt><dd><p><code>\Sexpr[results=text,stage=render]{sosDefaultGetCapOwsVersion}</code></p></dd> % "1.1.0"
	<dt>sosDefaultGetObsResponseFormat</dt><dd><p><code>\Sexpr[results=text,stage=render]{sosDefaultGetObsResponseFormat}</code></p></dd>
	<dt>sosDefaultTimeFormat</dt><dd><p><code>\Sexpr[results=text,stage=render]{sosDefaultTimeFormat}</code></p></dd> % "%Y-%m-%dT%H:%M:%OS"
	<dt>sosDefaultFilenameTimeFormat</dt><dd><p><code>\Sexpr[results=text,stage=render]{sosDefaultFilenameTimeFormat}</code></p></dd> %
	<dt>sosDefaultTempOpPropertyName</dt><dd><p><code>\Sexpr[results=text,stage=render]{sosDefaultTempOpPropertyName}</code></p></dd> % "om:samplingTime"
	<dt>sosDefaultTemporalOperator</dt><dd><p><code>\Sexpr[results=text,stage=render]{sosDefaultTemporalOperator}</code></p></dd> % SosSupportedTemporalOperators()[[ogcTempOpTMDuringName]]
	<dt>sosDefaultSpatialOpPropertyName</dt><dd><p><code>\Sexpr[results=text,stage=render]{sosDefaultSpatialOpPropertyName}</code></p></dd> % "urn:ogc:data:location"

</dl>

<p>The <b>default parsing functions</b> can be replaced for a variety of XML elements, so that you only need to replace the parts of the parsing that really must be changed. Be aware that inclusion and exclusion are performed after merging the given functions with the defaults!</p>
<p><b>Example Services:</b> This list contains a few SOS instances that were tested (to different degress) with <span class="pkg">sos4R</span>. The package authors do not maintain these services, so no guarantee can be given that these are usable.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The default value of the respective setting or parameter. This can be a list, especially a named list of functions.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p><code><a href='Constants.html'>Constants</a></code></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># simple default values</span>
<span class='fu'>show</span>(<span class='no'>sosDefaultCharacterEncoding</span>)</div><div class='output co'>#&gt; [1] "UTF-8"</div><div class='input'><span class='fu'>show</span>(<span class='no'>sosDefaultDescribeSensorOutputFormat</span>)</div><div class='output co'>#&gt; [1] "text/xml;subtype=\"sensorML/1.0.1\""</div><div class='input'><span class='fu'>show</span>(<span class='no'>sosDefaultGetCapAcceptFormats</span>)</div><div class='output co'>#&gt; [1] "text/xml"</div><div class='input'><span class='fu'>show</span>(<span class='no'>sosDefaultGetCapOwsVersion</span>)</div><div class='output co'>#&gt; [1] "1.1.0"</div><div class='input'><span class='fu'>show</span>(<span class='no'>sosDefaultGetCapSections</span>)</div><div class='output co'>#&gt; [1] "All"</div><div class='input'><span class='fu'>show</span>(<span class='no'>sosDefaultGetObsResponseFormat</span>)</div><div class='output co'>#&gt; [1] "text/xml;subtype=\"om/1.0.0\""</div><div class='input'><span class='fu'>show</span>(<span class='no'>sosDefaultSpatialOpPropertyName</span>)</div><div class='output co'>#&gt; [1] "urn:ogc:data:location"</div><div class='input'><span class='fu'>show</span>(<span class='no'>sosDefaultTempOpPropertyName</span>)</div><div class='output co'>#&gt; [1] "om:samplingTime"</div><div class='input'><span class='fu'>show</span>(<span class='no'>sosDefaultTemporalOperator</span>)</div><div class='output co'>#&gt; [1] "TM_During"</div><div class='input'><span class='fu'>show</span>(<span class='no'>sosDefaultTimeFormat</span>)</div><div class='output co'>#&gt; [1] "%Y-%m-%dT%H:%M:%OS%z"</div><div class='input'><span class='fu'>SosDefaultBinding</span>()</div><div class='output co'>#&gt; [1] "POX"</div><div class='input'>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># usage of defaults in construction method for SOS class</span>
<span class='no'>sos</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='SOS.html'>SOS</a></span>(<span class='st'>"http://mysos.com/sos"</span>, <span class='kw'>binding</span> <span class='kw'>=</span> <span class='fu'>SosDefaultBinding</span>(),
                <span class='kw'>timeFormat</span> <span class='kw'>=</span> <span class='no'>sosDefaultTimeFormat</span>)

<span class='co'># functions to disable all parsing</span>
<span class='fu'>SosDisabledParsers</span>()
}


<span class='co'># Replace a parsing function</span>
<span class='no'>myER</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>xml</span>) {
        <span class='fu'><a href='https://rdrr.io/r/base/function.html'>return</a></span>(<span class='st'>"EXCEPTION!!!11"</span>)
}
<span class='no'>myParsingFunctions</span> <span class='kw'>&lt;-</span> <span class='fu'>SosParsingFunctions</span>(<span class='st'>"ExceptionReport"</span> <span class='kw'>=</span> <span class='no'>myER</span>)

<span class='co'># use inclusion and exclusion, important: even the just added function needs to</span>
<span class='co'># be included manually!</span>
<span class='no'>myParsingFunctions</span> <span class='kw'>&lt;-</span> <span class='fu'>SosParsingFunctions</span>(<span class='st'>"ExceptionReport"</span> <span class='kw'>=</span> <span class='no'>myER</span>,
        <span class='kw'>include</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"GetObservation"</span>, <span class='st'>"DescribeSensor"</span>, <span class='st'>"ExceptionReport"</span>))

<span class='no'>myParsingFunctions</span> <span class='kw'>&lt;-</span> <span class='fu'>SosParsingFunctions</span>(<span class='kw'>exclude</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"GetObservation"</span>, <span class='st'>"DescribeSensor"</span>))

<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># Replace an encoding function</span>
<span class='no'>myEncoding</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>object</span>, <span class='no'>v</span>) {
        <span class='fu'><a href='https://rdrr.io/r/base/function.html'>return</a></span>(<span class='kw pkg'>utils</span><span class='kw ns'>::</span><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='no'>object</span>))
}

<span class='no'>sos</span> <span class='kw'>=</span> <span class='fu'><a href='SOS.html'>SOS</a></span>(<span class='kw'>url</span> <span class='kw'>=</span> <span class='st'>"http://mysos.com/sos"</span>,
                <span class='kw'>encoders</span> <span class='kw'>=</span> <span class='fu'>SosEncodingFunctions</span>(<span class='st'>"POST"</span> <span class='kw'>=</span> <span class='no'>myPostEncoding</span>))


<span class='co'># Use custom converting function and connection method. This mechanism works the</span>
<span class='co'># same for encoders and decoders.</span>
<span class='no'>myConverters</span> <span class='kw'>&lt;-</span> <span class='fu'>SosDataFieldConvertingFunctions</span>(
        <span class='st'>"myNumericUnit"</span> <span class='kw'>=</span> <span class='no'>sosConvertDouble</span>)
<span class='no'>mySos</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='SOS.html'>SOS</a></span>(<span class='no'>sos.url</span>, <span class='kw'>binding</span> <span class='kw'>=</span> <span class='st'>"KVP"</span>, <span class='kw'>dataFieldConverters</span> <span class='kw'>=</span> <span class='no'>myConverters</span>)
<span class='fu'><a href='SOS.html'>sosDataFieldConverters</a></span>(<span class='no'>mySos</span>)

<span class='co'># inspecting XML using dummy parsing function</span>
<span class='no'>sos</span> <span class='kw'>=</span> <span class='fu'><a href='SOS.html'>SOS</a></span>(<span class='kw'>url</span> <span class='kw'>=</span> <span class='st'>"http://mysos.com/sos"</span>, <span class='kw'>parsers</span> <span class='kw'>=</span> <span class='no'>SosDisabledParsers</span>)
<span class='fu'><a href='DescribeSensor.html'>describeSensor</a></span>(<span class='no'>sos</span>, <span class='fu'><a href='SOS.html'>sosProcedures</a></span>(<span class='no'>sos</span>)<span class='kw'>[[</span><span class='fl'>1</span>]])

<span class='co'># replace the parsing functions with the default ones</span>
<span class='no'>sos</span> <span class='kw'>&lt;-</span> <span class='fu'>SosResetParsingFunctions</span>(<span class='no'>sos</span>)

}

<span class='co'># a named list of all defaults</span>
<span class='fu'>SosDefaults</span>()</div><div class='output co'>#&gt; $sosDefaultCharacterEncoding
#&gt; [1] "UTF-8"
#&gt; 
#&gt; $sosDefaultDescribeSensorOutputFormat
#&gt; [1] "text/xml;subtype=\"sensorML/1.0.1\""
#&gt; 
#&gt; $sosDefaultGetCapSections
#&gt; [1] "All"
#&gt; 
#&gt; $sosDefaultGetCapAcceptFormats
#&gt; [1] "text/xml"
#&gt; 
#&gt; $sosDefaultGetCapOwsVersion
#&gt; [1] "1.1.0"
#&gt; 
#&gt; $sosDefaultGetObsResponseFormat
#&gt; [1] "text/xml;subtype=\"om/1.0.0\""
#&gt; 
#&gt; $sosDefaultTimeFormat
#&gt; [1] "%Y-%m-%dT%H:%M:%OS%z"
#&gt; 
#&gt; $sosDefaultFilenameTimeFormat
#&gt; [1] "%Y-%m-%d_%H-%M-%OS"
#&gt; 
#&gt; $sosDefaultTempOpPropertyName
#&gt; [1] "om:samplingTime"
#&gt; 
#&gt; $sosDefaultTemporalOperator
#&gt; [1] "TM_During"
#&gt; 
#&gt; $sosDefaultSpatialOpPropertyName
#&gt; [1] "urn:ogc:data:location"
#&gt; 
#&gt; $sosDefaultColumnNameFeatureIdentifier
#&gt; [1] "feature"
#&gt; 
#&gt; $sosDefaultColumnNameLat
#&gt; [1] "lat"
#&gt; 
#&gt; $sosDefaultColumnNameLon
#&gt; [1] "lon"
#&gt; 
#&gt; $sosDefaultColumnNameSRS
#&gt; [1] "SRS"
#&gt; 
#&gt; $sosDefaultReferenceFrameSensorDescription
#&gt; [1] "urn:ogc:def:crs:EPSG:4326"
#&gt; </div><div class='input'>
<span class='co'># parsing options used by xml2</span>
<span class='fu'>SosDefaultParsingOptions</span>()</div><div class='output co'>#&gt; [1] "RECOVER"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Daniel Nuest, Ben Graeler, Benjamin Pross, Eike Hinderk Juerrens.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


