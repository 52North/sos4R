<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Wrapper Functions for easier SOS access • sos4R</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Wrapper Functions for easier SOS access">
<meta property="og:description" content="sos4R">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sos4R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/sos4R.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/sos4R-vignette-02-ogc-sos.html">OGC SWE and SOS</a>
    </li>
    <li>
      <a href="../articles/sos4R-vignette-03-sos-operations.html">SOS Operations</a>
    </li>
    <li>
      <a href="../articles/sos4R-vignette-04-extensions.html">Extending sos4R and advanced configuration</a>
    </li>
    <li>
      <a href="../articles/sos4R-vignette-05-wrapper-functions.html">Wrapper Functions for easier SOS access</a>
    </li>
    <li>
      <a href="../articles/sos4R-vignette-10-egu-2020.html">EGU2020 Blog Post</a>
    </li>
    <li>
      <a href="../articles/sos4R-vignette-99-services.html">List of SOS services</a>
    </li>
  </ul>
</li>
<li>
  <a href="../DEV-README.html">Developer Docs</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/52North/sos4R">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="sos4R-vignette-05-wrapper-functions_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="sos4R-vignette-05-wrapper-functions_files/jquery-1.12.4/jquery.min.js"></script><link href="sos4R-vignette-05-wrapper-functions_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="sos4R-vignette-05-wrapper-functions_files/leaflet-1.3.1/leaflet.js"></script><link href="sos4R-vignette-05-wrapper-functions_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="sos4R-vignette-05-wrapper-functions_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="sos4R-vignette-05-wrapper-functions_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="sos4R-vignette-05-wrapper-functions_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="sos4R-vignette-05-wrapper-functions_files/leaflet-binding-2.0.3/leaflet.js"></script><script src="sos4R-vignette-05-wrapper-functions_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="sos4R-vignette-05-wrapper-functions_files/leaflet-providers-plugin-2.0.3/leaflet-providers-plugin.js"></script><link href="sos4R-vignette-05-wrapper-functions_files/HomeButton-0.0.1/home-button.css" rel="stylesheet">
<script src="sos4R-vignette-05-wrapper-functions_files/HomeButton-0.0.1/home-button.js"></script><script src="sos4R-vignette-05-wrapper-functions_files/HomeButton-0.0.1/easy-button-src.min.js"></script><script src="sos4R-vignette-05-wrapper-functions_files/clipboard-0.0.1/setClipboardText.js"></script><link href="sos4R-vignette-05-wrapper-functions_files/PopupTable-0.0.1/popup.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Wrapper Functions for easier SOS access</h1>
                        <h4 class="author">Daniel Nüst , Eike Hinderk Jürrens, and Benedikt Gräler</h4>
            <address class="author_afil">
      Institute for Geoinformatics, University of Münster, Germany. 52°North GmbH, Münster, Germany.<br><a class="author_email" href="mailto:#"></a><a href="mailto:daniel.nuest@uni-muenster.de" class="email">daniel.nuest@uni-muenster.de</a>, <a href="mailto:e.h.juerrens@52north.org" class="email">e.h.juerrens@52north.org</a>, and <a href="mailto:b.graeler@52north.org" class="email">b.graeler@52north.org</a>
      </address>
                  
            <h4 class="date">2020-06-10</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/52North/sos4R/blob/master/vignettes/sos4R-vignette-05-wrapper-functions.Rmd"><code>vignettes/sos4R-vignette-05-wrapper-functions.Rmd</code></a></small>
      <div class="hidden name"><code>sos4R-vignette-05-wrapper-functions.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p><code>sos4R</code> includes a collection of convenience functions which wrap the complex SOS interface with its specific terms (e.g. FOI, procedure). The wrapper function use more generic terms easily accessible for all users, especially without a strong knowledge of the OGC standards of the Sensor Web Enablement (see <a href="sos4R-vignette-02-ogc-sos.html">“OGC SWE and SOS”</a> vignette for details).</p>
<p>In general, these functions always return an object of class <code>data.frame</code>, even if the result is only a list, in which case the <code>data.frame</code> has one column.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"sos4R"</span>)
<span class="no">mySos</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/SOS.html">SOS</a></span>(<span class="kw">url</span> <span class="kw">=</span> <span class="st">"https://climate-sos.niwa.co.nz/"</span>,
             <span class="kw">binding</span> <span class="kw">=</span> <span class="st">"KVP"</span>, <span class="kw">useDCPs</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">version</span> <span class="kw">=</span> <span class="st">"2.0.0"</span>)
<span class="no">maxOutputRowsPerExample</span> <span class="kw">&lt;-</span> <span class="fl">5</span>
<span class="no">maxOutputColumnsPerExample</span> <span class="kw">&lt;-</span> <span class="fl">3</span></pre></body></html></div>
</div>
<div id="shiny-demo-app" class="section level2">
<h2 class="hasAnchor">
<a href="#shiny-demo-app" class="anchor"></a>Shiny Demo App</h2>
<p>A minimal <a href="https://shiny.rstudio.com/">Shiny</a> app demonstrating the convenience functions is included in the package. Run it with</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="kw pkg">shiny</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html">runApp</a></span>(<span class="kw">appDir</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/find.package.html">path.package</a></span>(<span class="st">"sos4R"</span>), <span class="st">"shiny"</span>))</pre></body></html></div>
</div>
<div id="phenomena" class="section level2">
<h2 class="hasAnchor">
<a href="#phenomena" class="anchor"></a>Phenomena</h2>
<p>The function <code><a href="../reference/phenomena.html">phenomena(..)</a></code> provides information about observed phenomena, time periods of data, and sites observing these phenomena.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">phenomena</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/phenomena.html">phenomena</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">phenomena</span>)
<span class="co">#&gt; 'data.frame':    84 obs. of  1 variable:</span>
<span class="co">#&gt;  $ phenomenon: chr  "MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))" "MTHLY_STATS: DAYS OF OCCURRENCE (FOG) (MTHLY: FOG DAYS)" "MTHLY_STATS: DAYS OF OCCURRENCE (GALE) (MTHLY: GALE DAYS)" "MTHLY_STATS: DAYS OF OCCURRENCE (GROUND FROST) (MTHLY: GROUND FROST DAYS)" ...</span></pre></body></html></div>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">phenomena</span>[<span class="fl">1</span>:<span class="no">maxOutputRowsPerExample</span>,]
<span class="co">#&gt; [1] "MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))"</span>
<span class="co">#&gt; [2] "MTHLY_STATS: DAYS OF OCCURRENCE (FOG) (MTHLY: FOG DAYS)"                      </span>
<span class="co">#&gt; [3] "MTHLY_STATS: DAYS OF OCCURRENCE (GALE) (MTHLY: GALE DAYS)"                    </span>
<span class="co">#&gt; [4] "MTHLY_STATS: DAYS OF OCCURRENCE (GROUND FROST) (MTHLY: GROUND FROST DAYS)"    </span>
<span class="co">#&gt; [5] "MTHLY_STATS: DAYS OF OCCURRENCE (GUSTS over 23 knots) (MTHLY: GUST DAYS 24)"</span></pre></body></html></div>
<p>The retrieved data can be extended to the time intervals and site identifier for which data is available. The next example shows the overall temporal availability of the phenomena in the SOS instance:</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="fu"><a href="../reference/phenomena.html">phenomena</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>, <span class="kw">includeTemporalBBox</span> <span class="kw">=</span> <span class="fl">TRUE</span>)[<span class="fl">1</span>:<span class="no">maxOutputRowsPerExample</span>,]
<span class="co">#&gt;                                                                     phenomenon</span>
<span class="co">#&gt; 1                              MTHLY_STATS: TOTAL RAINFALL (MTHLY: TOTAL RAIN)</span>
<span class="co">#&gt; 2           MTHLY_STATS: WET DAYS with rainfall 1 mm or more (MTHLY: WET DAYS)</span>
<span class="co">#&gt; 3     MTHLY_STATS: MEAN AIR TEMPERATURE;   0.5* (MAX + MIN) (MTHLY: MEAN TEMP)</span>
<span class="co">#&gt; 4 MTHLY_STATS: MEAN MAXIMUM TEMPERATURE from daily Maxs (MTHLY: MEAN MAX TEMP)</span>
<span class="co">#&gt; 5 MTHLY_STATS: MEAN MINIMUM TEMPERATURE from daily Mins (MTHLY: MEAN MIN TEMP)</span>
<span class="co">#&gt;    timeBegin    timeEnd</span>
<span class="co">#&gt; 1 1960-08-01 2020-05-01</span>
<span class="co">#&gt; 2 1960-08-01 2020-05-01</span>
<span class="co">#&gt; 3 1960-08-01 2020-05-01</span>
<span class="co">#&gt; 4 1960-08-01 2020-05-01</span>
<span class="co">#&gt; 5 1960-08-01 2020-05-01</span></pre></body></html></div>
<p>This example shows at which site the phenomena are available:</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="../reference/phenomena.html">phenomena</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>, <span class="kw">includeSiteId</span> <span class="kw">=</span> <span class="fl">TRUE</span>)[<span class="fl">1</span>:<span class="no">maxOutputRowsPerExample</span>,]
<span class="co">#&gt;                                                                        phenomenon</span>
<span class="co">#&gt; 61  MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))</span>
<span class="co">#&gt; 126 MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))</span>
<span class="co">#&gt; 152 MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))</span>
<span class="co">#&gt; 251 MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))</span>
<span class="co">#&gt; 293 MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))</span>
<span class="co">#&gt;     siteID</span>
<span class="co">#&gt; 61   17244</span>
<span class="co">#&gt; 126  26958</span>
<span class="co">#&gt; 152  25506</span>
<span class="co">#&gt; 251  22719</span>
<span class="co">#&gt; 293  37850</span></pre></body></html></div>
<p>You can also add both temporal extent and sites:</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="fu"><a href="../reference/phenomena.html">phenomena</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>, <span class="kw">includeTemporalBBox</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">includeSiteId</span> <span class="kw">=</span> <span class="fl">TRUE</span>)[<span class="fl">1</span>:<span class="no">maxOutputRowsPerExample</span>,]
<span class="co">#&gt;                                                                        phenomenon</span>
<span class="co">#&gt; 61  MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))</span>
<span class="co">#&gt; 126 MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))</span>
<span class="co">#&gt; 152 MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))</span>
<span class="co">#&gt; 251 MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))</span>
<span class="co">#&gt; 293 MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL))</span>
<span class="co">#&gt;     siteID  timeBegin    timeEnd</span>
<span class="co">#&gt; 61   17244 1999-08-01 2020-05-01</span>
<span class="co">#&gt; 126  26958 2007-08-01 2020-05-01</span>
<span class="co">#&gt; 152  25506 2004-12-01 2018-06-01</span>
<span class="co">#&gt; 251  22719 2002-07-01 2018-11-01</span>
<span class="co">#&gt; 293  37850 2011-11-01 2020-05-01</span></pre></body></html></div>
</div>
<div id="sites-with-coordinates" class="section level2">
<h2 class="hasAnchor">
<a href="#sites-with-coordinates" class="anchor"></a>Sites With Coordinates</h2>
<p>The function <code><a href="../reference/sites.html">sites(..)</a></code> provides information about sites where observations are performed, including metadata about the sites (e.g. location). The returned object is a <code>SpatialPointsDataFrame</code>.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">sites</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sites.html">sites</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>)
<span class="no">sites</span>[<span class="fl">1</span>:<span class="no">maxOutputRowsPerExample</span>,]
<span class="co">#&gt;             coordinates siteID</span>
<span class="co">#&gt; 1    (173.926, -35.183)   1056</span>
<span class="co">#&gt; 2  (172.851, -42.53433)  11234</span>
<span class="co">#&gt; 3 (172.9716, -41.09798)  12429</span>
<span class="co">#&gt; 4 (173.9628, -41.49891)  12430</span>
<span class="co">#&gt; 5 (169.3148, -45.20724)  12431</span></pre></body></html></div>
<p>To see all sites, even the ones without any data, use the <code>empty</code> parameter.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">sites_with_empty</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sites.html">sites</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>, <span class="kw">empty</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="no">sites_with_empty</span>[<span class="fl">1</span>:<span class="no">maxOutputRowsPerExample</span>,]
<span class="co">#&gt;             coordinates siteID empty</span>
<span class="co">#&gt; 1    (173.926, -35.183)   1056 FALSE</span>
<span class="co">#&gt; 2  (172.851, -42.53433)  11234 FALSE</span>
<span class="co">#&gt; 3 (172.9716, -41.09798)  12429 FALSE</span>
<span class="co">#&gt; 4 (173.9628, -41.49891)  12430 FALSE</span>
<span class="co">#&gt; 5 (169.3148, -45.20724)  12431 FALSE</span></pre></body></html></div>
<p>You can retrieve additional metadata about the phenomena and the time period for which data is available. Including temporal extent implies inclusion of phenomena. In the next chunks the object is coerced to a <code>date.frame</code> to get a tabular view.</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">sites_with_phenomena</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sites.html">sites</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>, <span class="kw">includePhenomena</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="no">sites_with_phenomena</span>[<span class="fl">1</span>:<span class="no">maxOutputRowsPerExample</span>, <span class="fl">1</span>:<span class="no">maxOutputColumnsPerExample</span>]
<span class="co">#&gt;             coordinates siteID</span>
<span class="co">#&gt; 1    (173.926, -35.183)   1056</span>
<span class="co">#&gt; 2  (172.851, -42.53433)  11234</span>
<span class="co">#&gt; 3 (172.9716, -41.09798)  12429</span>
<span class="co">#&gt; 4 (173.9628, -41.49891)  12430</span>
<span class="co">#&gt; 5 (169.3148, -45.20724)  12431</span>
<span class="co">#&gt;   MTHLY_STATS..DAYS.OF.DEFICIT..WBal.AWC.150mm...MTHLY..DAYS.OF.DEFICIT..WBAL..</span>
<span class="co">#&gt; 1                                                                          TRUE</span>
<span class="co">#&gt; 2                                                                          TRUE</span>
<span class="co">#&gt; 3                                                                          TRUE</span>
<span class="co">#&gt; 4                                                                          TRUE</span>
<span class="co">#&gt; 5                                                                          TRUE</span>
<span class="co">#&gt;   MTHLY_STATS..DAYS.OF.OCCURRENCE..FOG...MTHLY..FOG.DAYS.</span>
<span class="co">#&gt; 1                                                    TRUE</span>
<span class="co">#&gt; 2                                                   FALSE</span>
<span class="co">#&gt; 3                                                   FALSE</span>
<span class="co">#&gt; 4                                                   FALSE</span>
<span class="co">#&gt; 5                                                   FALSE</span></pre></body></html></div>
<p>The next section show how to retrieve spatial information about the sites and temporal information about the available phenomena:</p>
<div class="sourceCode" id="cb11"><html><body><pre class="r"><span class="no">sites_with_temporal_bbox</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sites.html">sites</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>, <span class="kw">includePhenomena</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">includeTemporalBBox</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(<span class="no">sites_with_temporal_bbox</span>, <span class="kw">n</span> <span class="kw">=</span> <span class="fl">3</span>)[,<span class="fl">1</span>:<span class="no">maxOutputColumnsPerExample</span>]
<span class="co">#&gt;              coordinates siteID</span>
<span class="co">#&gt; 58 (171.8601, -42.11578)   3925</span>
<span class="co">#&gt; 59 (169.3182, -45.20342)  39564</span>
<span class="co">#&gt; 60  (169.6842, -45.0401)   5535</span>
<span class="co">#&gt;    MTHLY_STATS..DAYS.OF.DEFICIT..WBal.AWC.150mm...MTHLY..DAYS.OF.DEFICIT..WBAL..</span>
<span class="co">#&gt; 58                                                        -291945600, 1588291200</span>
<span class="co">#&gt; 59                                                        1333238400, 1588291200</span>
<span class="co">#&gt; 60                                                         539136000, 1588291200</span>
<span class="co">#&gt;    MTHLY_STATS..DAYS.OF.OCCURRENCE..FOG...MTHLY..FOG.DAYS.</span>
<span class="co">#&gt; 58                                   -297216000, 691545600</span>
<span class="co">#&gt; 59                                                      NA</span>
<span class="co">#&gt; 60                                                      NA</span></pre></body></html></div>
<p>The following chunk shows how to get a better representation:</p>
<div class="sourceCode" id="cb12"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span>(<span class="no">sites_with_temporal_bbox</span>, <span class="kw">n</span> <span class="kw">=</span> <span class="fl">3</span>)[,<span class="fl">1</span>:<span class="no">maxOutputColumnsPerExample</span>])
<span class="co">#&gt; Formal class 'SpatialPointsDataFrame' [package "sp"] with 5 slots</span>
<span class="co">#&gt;   ..@ data       :'data.frame':  3 obs. of  3 variables:</span>
<span class="co">#&gt;   .. ..$ siteID                                                                       : chr [1:3] "3925" "39564" "5535"</span>
<span class="co">#&gt;   .. ..$ MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL)):List of 3</span>
<span class="co">#&gt;   .. .. ..$ MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL)):'data.frame':  1 obs. of  2 variables:</span>
<span class="co">#&gt;   .. .. .. ..$ timeBegin: POSIXct[1:1], format: "1960-10-01"</span>
<span class="co">#&gt;   .. .. .. ..$ timeEnd  : POSIXct[1:1], format: "2020-05-01"</span>
<span class="co">#&gt;   .. .. ..$ MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL)):'data.frame':  1 obs. of  2 variables:</span>
<span class="co">#&gt;   .. .. .. ..$ timeBegin: POSIXct[1:1], format: "2012-04-01"</span>
<span class="co">#&gt;   .. .. .. ..$ timeEnd  : POSIXct[1:1], format: "2020-05-01"</span>
<span class="co">#&gt;   .. .. ..$ MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL)):'data.frame':  1 obs. of  2 variables:</span>
<span class="co">#&gt;   .. .. .. ..$ timeBegin: POSIXct[1:1], format: "1987-02-01"</span>
<span class="co">#&gt;   .. .. .. ..$ timeEnd  : POSIXct[1:1], format: "2020-05-01"</span>
<span class="co">#&gt;   .. ..$ MTHLY_STATS: DAYS OF OCCURRENCE (FOG) (MTHLY: FOG DAYS)                      :List of 3</span>
<span class="co">#&gt;   .. .. ..$ MTHLY_STATS: DAYS OF OCCURRENCE (FOG) (MTHLY: FOG DAYS):'data.frame':    1 obs. of  2 variables:</span>
<span class="co">#&gt;   .. .. .. ..$ timeBegin: POSIXct[1:1], format: "1960-08-01"</span>
<span class="co">#&gt;   .. .. .. ..$ timeEnd  : POSIXct[1:1], format: "1991-12-01"</span>
<span class="co">#&gt;   .. .. ..$ MTHLY_STATS: DAYS OF OCCURRENCE (FOG) (MTHLY: FOG DAYS): logi NA</span>
<span class="co">#&gt;   .. .. ..$ MTHLY_STATS: DAYS OF OCCURRENCE (FOG) (MTHLY: FOG DAYS): logi NA</span>
<span class="co">#&gt;   ..@ coords.nrs : num(0) </span>
<span class="co">#&gt;   ..@ coords     : num [1:3, 1:2] 171.9 169.3 169.7 -42.1 -45.2 ...</span>
<span class="co">#&gt;   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="co">#&gt;   .. .. ..$ : NULL</span>
<span class="co">#&gt;   .. .. ..$ : chr [1:2] "lon" "lat"</span>
<span class="co">#&gt;   ..@ bbox       : num [1:2, 1:2] 169.3 -45.2 171.9 -42.1</span>
<span class="co">#&gt;   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="co">#&gt;   .. .. ..$ : chr [1:2] "lon" "lat"</span>
<span class="co">#&gt;   .. .. ..$ : chr [1:2] "min" "max"</span>
<span class="co">#&gt;   ..@ proj4string:Formal class 'CRS' [package "sp"] with 1 slot</span>
<span class="co">#&gt;   .. .. ..@ projargs: chr "+proj=longlat +datum=WGS84 +no_defs"</span></pre></body></html></div>
</div>
<div id="filter-sites-with-coordinates" class="section level2">
<h2 class="hasAnchor">
<a href="#filter-sites-with-coordinates" class="anchor"></a>Filter Sites With Coordinates</h2>
<p>You can filter sites using phenomena and temporal extent.</p>
<p><strong>Note:</strong> When creating time objects from strings, <code><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct(..)</a></code> by default recognises the local timezone and creates a time object in UTC.</p>
<div class="sourceCode" id="cb13"><html><body><pre class="r"><span class="no">sites_filtered_by_phenomena</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sites.html">sites</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>, <span class="kw">phenomena</span> <span class="kw">=</span> <span class="no">phenomena</span>[<span class="fl">3</span>,])
<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(<span class="no">sites_filtered_by_phenomena</span>@<span class="kw">data</span>)
<span class="co">#&gt; [1] 60</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">sites_filtered_by_phenomena</span>)
<span class="co">#&gt; Formal class 'SpatialPointsDataFrame' [package "sp"] with 5 slots</span>
<span class="co">#&gt;   ..@ data       :'data.frame':  60 obs. of  1 variable:</span>
<span class="co">#&gt;   .. ..$ siteID: chr [1:60] "1056" "11234" "12429" "12430" ...</span>
<span class="co">#&gt;   ..@ coords.nrs : num(0) </span>
<span class="co">#&gt;   ..@ coords     : num [1:60, 1:2] 174 173 173 174 169 ...</span>
<span class="co">#&gt;   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="co">#&gt;   .. .. ..$ : NULL</span>
<span class="co">#&gt;   .. .. ..$ : chr [1:2] "lon" "lat"</span>
<span class="co">#&gt;   ..@ bbox       : num [1:2, 1:2] -176.5 -77.8 177.9 -35.1</span>
<span class="co">#&gt;   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="co">#&gt;   .. .. ..$ : chr [1:2] "lon" "lat"</span>
<span class="co">#&gt;   .. .. ..$ : chr [1:2] "min" "max"</span>
<span class="co">#&gt;   ..@ proj4string:Formal class 'CRS' [package "sp"] with 1 slot</span>
<span class="co">#&gt;   .. .. ..@ projargs: chr "+proj=longlat +datum=WGS84 +no_defs"</span></pre></body></html></div>
<p>Use the parameter <code>includeTemporalBBox</code> for including additional metadata:</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r"><span class="no">sites_filtered_by_phenomena_with_metadata</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/sites.html">sites</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>, <span class="kw">phenomena</span> <span class="kw">=</span> <span class="no">phenomena</span>[<span class="fl">3</span>,], <span class="kw">includePhenomena</span> <span class="kw">=</span> <span class="fl">TRUE</span>, <span class="kw">includeTemporalBBox</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">sites_filtered_by_phenomena_with_metadata</span>)
<span class="co">#&gt; Formal class 'SpatialPointsDataFrame' [package "sp"] with 5 slots</span>
<span class="co">#&gt;   ..@ data       :'data.frame':  2 obs. of  2 variables:</span>
<span class="co">#&gt;   .. ..$ siteID                                                   : chr [1:2] "1056" "3925"</span>
<span class="co">#&gt;   .. ..$ MTHLY_STATS: DAYS OF OCCURRENCE (GALE) (MTHLY: GALE DAYS):List of 2</span>
<span class="co">#&gt;   .. .. ..$ MTHLY_STATS: DAYS OF OCCURRENCE (GALE) (MTHLY: GALE DAYS):'data.frame':  1 obs. of  2 variables:</span>
<span class="co">#&gt;   .. .. .. ..$ timeBegin: POSIXct[1:1], format: "1981-10-01"</span>
<span class="co">#&gt;   .. .. .. ..$ timeEnd  : POSIXct[1:1], format: "1995-11-01"</span>
<span class="co">#&gt;   .. .. ..$ MTHLY_STATS: DAYS OF OCCURRENCE (GALE) (MTHLY: GALE DAYS):'data.frame':  1 obs. of  2 variables:</span>
<span class="co">#&gt;   .. .. .. ..$ timeBegin: POSIXct[1:1], format: "1960-08-01"</span>
<span class="co">#&gt;   .. .. .. ..$ timeEnd  : POSIXct[1:1], format: "1991-12-01"</span>
<span class="co">#&gt;   ..@ coords.nrs : num(0) </span>
<span class="co">#&gt;   ..@ coords     : num [1:2, 1:2] 173.9 171.9 -35.2 -42.1</span>
<span class="co">#&gt;   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="co">#&gt;   .. .. ..$ : NULL</span>
<span class="co">#&gt;   .. .. ..$ : chr [1:2] "lon" "lat"</span>
<span class="co">#&gt;   ..@ bbox       : num [1:2, 1:2] 171.9 -42.1 173.9 -35.2</span>
<span class="co">#&gt;   .. ..- attr(*, "dimnames")=List of 2</span>
<span class="co">#&gt;   .. .. ..$ : chr [1:2] "lon" "lat"</span>
<span class="co">#&gt;   .. .. ..$ : chr [1:2] "min" "max"</span>
<span class="co">#&gt;   ..@ proj4string:Formal class 'CRS' [package "sp"] with 1 slot</span>
<span class="co">#&gt;   .. .. ..@ projargs: chr "+proj=longlat +datum=WGS84 +no_defs"</span></pre></body></html></div>
<div class="sourceCode" id="cb15"><html><body><pre class="r"># under development - no github issue atm
#sites_filtered_by_time &lt;- sites(sos = mySos, begin = parsedate::parse_iso_8601("1904-01-01"), end = parsedate::parse_iso_8601("1905-12-31"))
#nrow(sites_filtered_by_time@data)
#str(sites_filtered_by_time)</pre></body></html></div>
<p>The <code>SpatialPointsDataFrame</code> allows access to coordinates with coordinate reference system (CRS).</p>
<div class="sourceCode" id="cb16"><html><body><pre class="r"><span class="kw pkg">sp</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/coordinates.html">coordinates</a></span>(<span class="no">sites</span>)[<span class="fl">1</span>:<span class="no">maxOutputRowsPerExample</span>,]
<span class="co">#&gt;           lon       lat</span>
<span class="co">#&gt; [1,] 173.9260 -35.18300</span>
<span class="co">#&gt; [2,] 172.8510 -42.53433</span>
<span class="co">#&gt; [3,] 172.9717 -41.09798</span>
<span class="co">#&gt; [4,] 173.9629 -41.49891</span>
<span class="co">#&gt; [5,] 169.3148 -45.20724</span></pre></body></html></div>
<div class="sourceCode" id="cb17"><html><body><pre class="r"><span class="no">sites</span>@<span class="kw">proj4string</span>
<span class="co">#&gt; CRS arguments: +proj=longlat +datum=WGS84 +no_defs</span></pre></body></html></div>
<div class="sourceCode" id="cb18"><html><body><pre class="r"><span class="kw pkg">sp</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/sp/man/bbox.html">bbox</a></span>(<span class="no">sites</span>)
<span class="co">#&gt;            min       max</span>
<span class="co">#&gt; lon -176.47500 177.92180</span>
<span class="co">#&gt; lat  -77.84935 -35.13352</span></pre></body></html></div>
<p>This object can be directly used as input for various mapping libraries, e.g. <code>mapview</code>.</p>
<div class="sourceCode" id="cb19"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="st">"mapview"</span>))

<span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html">mapview</a></span>(<span class="no">sites</span>, <span class="kw">legend</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">col.regions</span> <span class="kw">=</span> <span class="st">"blue"</span>)</pre></body></html></div>
<div id="htmlwidget-4ffc664ddc624f98059c" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-4ffc664ddc624f98059c">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",1,"CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter",2,"CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenStreetMap",3,"OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",4,"Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenTopoMap",5,"OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[-35.183,-42.53433,-41.09798,-41.49891,-45.20724,-40.90392,-46.41727,-45.525,-77.84935,-45.90129,-41.805,-37.87683,-35.13352,-43.32858,-43.47,-43.81687,-43.736,-41.407,-45.51814,-39.19589,-41.64724,-45.12427,-38.28566,-37.20637,-41.31727,-41.25231,-40.38195,-36.96177,-39.33546,-42.46022,-43.53074,-43.36548,-38.62747,-35.93145,-43.71882,-38.62033,-41.27058,-42.94152,-37.77389,-46.29282,-40.20812,-39.41755,-42.82722,-40.68048,-44.12476,-45.25366,-43.80938,-38.517,-45.29644,-38.33334,-44.97781,-39.07486,-36.74827,-40.57728,-40.50652,-43.83207,-43.47962,-42.11578,-45.20342,-45.0401],[173.926,172.85098,172.97165,173.96285,169.31478,174.98437,168.33045,167.275,166.76119,170.5147,172.324,175.73496,173.26294,172.61114,171.672,-176.475,170.096,174.867,170.13561,175.54504,174.07274,170.10045,177.52941,174.86384,173.09482,175.38985,175.60915,174.77642,174.30502,171.19157,172.60769,170.13428,177.9218,173.85317,169.26703,174.7202,172.15568,171.56285,175.30517,169.7315,176.11026,175.41278,173.22409,175.8575,171.31075,169.39205,172.96574,175.58,167.68254,177.16288,168.018,175.19667,174.71377,176.44889,175.91586,172.09431,172.08417,171.86014,169.3182,169.68419],6,null,"sites",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":2,"opacity":[0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9],"fill":true,"fillColor":"#0000FF","fillOpacity":[0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6,0.6]},null,null,["<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>1056&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>11234&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>3&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>12429&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>12430&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>5&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>12431&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>6&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>12442&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>7&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>12444&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>8&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>12482&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>9&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>12740&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>10&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>15752&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>11&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>16826&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>12&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>17030&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>13&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>17067&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>14&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>17244&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>15&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>17610&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>16&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>17840&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>17&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>18125&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>18&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>18234&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>19&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>18437&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>20&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>18464&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>21&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>18468&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>22&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>18593&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>23&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>1905&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>24&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>2006&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>25&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>21937&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>26&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>21938&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>27&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>21963&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>28&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>22719&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>29&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>23872&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>30&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>23934&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>31&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>24120&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>32&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>24926&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>33&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>24976&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>34&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>25119&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>35&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>25506&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>36&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>25726&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>37&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>25777&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>38&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>25821&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>39&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>26117&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>40&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>26163&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>41&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>26958&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>42&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>31621&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>43&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>31832&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>44&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>31851&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>45&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>35704&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>46&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>36592&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>47&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>36593&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>48&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>37016&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>49&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>37047&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>50&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>37239&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>51&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>37382&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>52&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>37850&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>53&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>37852&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>54&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>38057&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>55&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>38224&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>56&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>38866&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>57&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>39063&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>58&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>3925&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>59&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>39564&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>60&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>5535&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1056","11234","12429","12430","12431","12442","12444","12482","12740","15752","16826","17030","17067","17244","17610","17840","18125","18234","18437","18464","18468","18593","1905","2006","21937","21938","21963","22719","23872","23934","24120","24926","24976","25119","25506","25726","25777","25821","26117","26163","26958","31621","31832","31851","35704","36592","36593","37016","37047","37239","37382","37850","37852","38057","38224","38866","39063","3925","39564","5535"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-176.475,-77.84935,177.9218,-35.13352,"sites","Zoom to sites","<strong> sites <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],"sites",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[-77.84935,-35.13352],"lng":[-176.475,177.9218]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="site-listings" class="section level2">
<h2 class="hasAnchor">
<a href="#site-listings" class="anchor"></a>Site Listings</h2>
<p>The function <code><a href="../reference/siteList.html">siteList(..)</a></code> provides information about observed phenomena at sites and the time periods when data is available.</p>
<div class="sourceCode" id="cb20"><html><body><pre class="r"><span class="no">siteList</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/siteList.html">siteList</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">siteList</span>)
<span class="co">#&gt; 'data.frame':    60 obs. of  1 variable:</span>
<span class="co">#&gt;  $ siteID: chr  "1056" "11234" "12429" "12430" ...</span></pre></body></html></div>
<p>You can extend the information returned with these parameters:</p>
<ul>
<li>
<code>empty</code> to also show sites without data</li>
<li>
<code>includePhenomena</code> to add phenomena to the table (boolean)</li>
<li>
<code>includeTemporalBBox</code> to also show the time when data is available (boolean)</li>
</ul>
<div class="sourceCode" id="cb21"><html><body><pre class="r"><span class="no">siteList_with_empty</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/siteList.html">siteList</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>, <span class="kw">empty</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="no">siteList_with_empty</span>[<span class="fl">1</span>:<span class="no">maxOutputRowsPerExample</span>,]
<span class="co">#&gt; [1] "1056"  "11234" "12429" "12430" "12431"</span></pre></body></html></div>
<div class="sourceCode" id="cb22"><html><body><pre class="r"># under development - https://github.com/52North/sos4R/issues/90
#siteListe_with_metadata &lt;- siteList(sos = mySos, includePhenomena = TRUE, includeTemporalBBox = TRUE)
#siteListe_with_metadata[1:maxOutputRowsPerExample,]</pre></body></html></div>
</div>
<div id="filter-site-listings" class="section level2">
<h2 class="hasAnchor">
<a href="#filter-site-listings" class="anchor"></a>Filter Site Listings</h2>
<p>You can filter the results with these parameters:</p>
<ul>
<li>
<code>phenomena</code> is a vector of phenomena which must be measured at the sites</li>
<li>
<code>begin</code> and <code>end</code> define a time interval (date and time class objects) for which some data must be available (sites may have data outside the given interval)</li>
</ul>
<p><strong>Note:</strong> When creating time objects from strings, <code><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct(..)</a></code> by default recognises the local timezone and creates a time object in UTC.</p>
<div class="sourceCode" id="cb23"><html><body><pre class="r"><span class="no">siteList_filtered_by_time_and_phenomenon</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/siteList.html">siteList</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>,
         <span class="kw">phenomena</span> <span class="kw">=</span> <span class="no">phenomena</span>$<span class="no">phenomenon</span>[<span class="fl">1</span>:<span class="fl">2</span>],
         <span class="kw">begin</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span>(<span class="st">"1950-01-01"</span>), <span class="kw">end</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span>(<span class="st">"1960-12-31"</span>)
         )
<span class="no">siteList_filtered_by_time_and_phenomenon</span>
<span class="co">#&gt;   siteID</span>
<span class="co">#&gt; 1   3925</span></pre></body></html></div>
</div>
<div id="data-download" class="section level2">
<h2 class="hasAnchor">
<a href="#data-download" class="anchor"></a>Data download</h2>
<p>The function <code><a href="../reference/getData.html">getData(..)</a></code> retrieves the actual data and returns them in ready-to-use data structures from the <a href="https://cran.r-project.org/package=spacetime"><code>spacetime</code></a> package.</p>
<p>The returned data can be limited by thematical, spatial, and temporal filters. Thematical filtering (phenomena) support the values of the previous functions as inputs. Spatial filters are either sites, or a bounding box. Temporal filter is a time period during which observations are made.</p>
<!-- Without a temporal extent, the used SOS only returns the last measurement.


```r
observationData <- getData(sos = mySos,
                           phenomena = phenomena[18,1],
                           sites = siteList[1:2,1])
str(observationData)
#> 'data.frame':    2 obs. of  3 variables:
#>  $ siteID                                                         : Factor w/ 2 levels "1056","11234": 1 2
#>  $ timestamp                                                      : POSIXct, format: "2020-05-01" "2020-05-01"
#>  $ MTHLY_STATS: EXTREME MAXIMUM TEMPERATURE (MTHLY: EXTR MAX TEMP): num  21.9 23.3
#>   ..- attr(*, "metadata")=Formal class 'WmlMeasurementTimeseriesMetadata' [package "sos4R"] with 1 slot
#>   .. .. ..@ temporalExtent:Formal class 'GmlTimeInstant' [package "sos4R"] with 4 slots
#>   .. .. .. .. ..@ timePosition:Formal class 'GmlTimePosition' [package "sos4R"] with 4 slots
#>   .. .. .. .. .. .. ..@ time                 : POSIXct[1:1], format: "2020-05-01"
#>   .. .. .. .. .. .. ..@ frame                : chr NA
#>   .. .. .. .. .. .. ..@ calendarEraName      : chr NA
#>   .. .. .. .. .. .. ..@ indeterminatePosition: chr NA
#>   .. .. .. .. ..@ frame       : chr NA
#>   .. .. .. .. ..@ relatedTimes: list()
#>   .. .. .. .. ..@ id          : chr "phenomenonTime_1"
#>   ..- attr(*, "defaultPointMetadata")=Formal class 'WmlDefaultTVPMeasurementMetadata' [package "sos4R"] with 2 slots
#>   .. .. ..@ uom              : chr "DEGREE_CELSIUS"
#>   .. .. ..@ interpolationType:Formal class 'WmlInterpolationType' [package "sos4R"] with 2 slots
#>   .. .. .. .. ..@ href : chr "http://www.opengis.net/def/timeseriesType/WaterML/2.0/continuous"
#>   .. .. .. .. ..@ title: chr "Instantaneous"
```

The result `data.frame` includes additional metadata.


```r
attributes(observationData[[3]])
#> $metadata
#> An object of class "WmlMeasurementTimeseriesMetadata"
#> Slot "temporalExtent":
#> GmlTimePosition [ time: 2020-05-01 ]
#> 
#> $defaultPointMetadata
#> An object of class "WmlDefaultTVPMeasurementMetadata"
#> Slot "uom":
#> [1] "DEGREE_CELSIUS"
#> 
#> Slot "interpolationType":
#> An object of class "WmlInterpolationType"
#> Slot "href":
#> [1] "http://www.opengis.net/def/timeseriesType/WaterML/2.0/continuous"
#> 
#> Slot "title":
#> [1] "Instantaneous"
```

Request more data with a temporal extent for all sites.
-->
<p><strong>Note:</strong> When creating time objects from strings, <code><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct(..)</a></code> by default recognises the local timezone and creates a time object in UTC.</p>
<div class="sourceCode" id="cb24"><html><body><pre class="r"><span class="no">observationData</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/getData.html">getData</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>,
                           <span class="kw">phenomena</span> <span class="kw">=</span> <span class="no">phenomena</span>[<span class="fl">18</span>,<span class="fl">1</span>],
                           <span class="kw">sites</span> <span class="kw">=</span> <span class="no">siteList</span>[<span class="fl">1</span>,<span class="fl">1</span>],
                           <span class="kw">begin</span> <span class="kw">=</span> <span class="kw pkg">parsedate</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/parsedate/man/parse_iso_8601.html">parse_iso_8601</a></span>(<span class="st">"1970-01-01T12:00:00+12:00"</span>),
                           <span class="kw">end</span> <span class="kw">=</span> <span class="kw pkg">parsedate</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/parsedate/man/parse_iso_8601.html">parse_iso_8601</a></span>(<span class="st">"2000-01-02T12:00:00+12:00"</span>)
                           )

<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">observationData</span>)
<span class="co">#&gt; 'data.frame':    212 obs. of  3 variables:</span>
<span class="co">#&gt;  $ siteID                                                         : chr  "1056" "1056" "1056" "1056" ...</span>
<span class="co">#&gt;  $ timestamp                                                      : POSIXct, format: "1981-10-01" "1981-11-01" ...</span>
<span class="co">#&gt;  $ MTHLY_STATS: EXTREME MAXIMUM TEMPERATURE (MTHLY: EXTR MAX TEMP): num  20.6 21.9 25 27.8 29.2 24.5 22.9 20.7 18.3 18 ...</span>
<span class="co">#&gt;   ..- attr(*, "metadata")=Formal class 'WmlMeasurementTimeseriesMetadata' [package "sos4R"] with 1 slot</span>
<span class="co">#&gt;   .. .. ..@ temporalExtent:Formal class 'GmlTimePeriod' [package "sos4R"] with 9 slots</span>
<span class="co">#&gt;   .. .. .. .. ..@ begin        : NULL</span>
<span class="co">#&gt;   .. .. .. .. ..@ beginPosition:Formal class 'GmlTimePosition' [package "sos4R"] with 4 slots</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ time                 : POSIXct[1:1], format: "1981-10-01"</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ frame                : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ calendarEraName      : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ indeterminatePosition: chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ end          : NULL</span>
<span class="co">#&gt;   .. .. .. .. ..@ endPosition  :Formal class 'GmlTimePosition' [package "sos4R"] with 4 slots</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ time                 : POSIXct[1:1], format: "2000-01-01"</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ frame                : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ calendarEraName      : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ indeterminatePosition: chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ duration     : chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ timeInterval : NULL</span>
<span class="co">#&gt;   .. .. .. .. ..@ frame        : chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ relatedTimes : list()</span>
<span class="co">#&gt;   .. .. .. .. ..@ id           : chr "phenomenonTime_1"</span>
<span class="co">#&gt;   ..- attr(*, "defaultPointMetadata")=Formal class 'WmlDefaultTVPMeasurementMetadata' [package "sos4R"] with 2 slots</span>
<span class="co">#&gt;   .. .. ..@ uom              : chr "DEGREE_CELSIUS"</span>
<span class="co">#&gt;   .. .. ..@ interpolationType:Formal class 'WmlInterpolationType' [package "sos4R"] with 2 slots</span>
<span class="co">#&gt;   .. .. .. .. ..@ href : chr "http://www.opengis.net/def/timeseriesType/WaterML/2.0/continuous"</span>
<span class="co">#&gt;   .. .. .. .. ..@ title: chr "Instantaneous"</span></pre></body></html></div>
<p>Get an overview of the data using the <code>summary</code> function:</p>
<div class="sourceCode" id="cb25"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="no">observationData</span>)
<span class="co">#&gt;     siteID            timestamp                  </span>
<span class="co">#&gt;  Length:212         Min.   :1981-10-01 00:00:00  </span>
<span class="co">#&gt;  Class :character   1st Qu.:1986-02-22 00:00:00  </span>
<span class="co">#&gt;  Mode  :character   Median :1990-07-16 12:00:00  </span>
<span class="co">#&gt;                     Mean   :1990-09-03 15:50:56  </span>
<span class="co">#&gt;                     3rd Qu.:1995-02-08 00:00:00  </span>
<span class="co">#&gt;                     Max.   :2000-01-01 00:00:00  </span>
<span class="co">#&gt;  MTHLY_STATS: EXTREME MAXIMUM TEMPERATURE (MTHLY: EXTR MAX TEMP)</span>
<span class="co">#&gt;  Min.   :17.10                                                  </span>
<span class="co">#&gt;  1st Qu.:20.10                                                  </span>
<span class="co">#&gt;  Median :22.95                                                  </span>
<span class="co">#&gt;  Mean   :23.24                                                  </span>
<span class="co">#&gt;  3rd Qu.:26.20                                                  </span>
<span class="co">#&gt;  Max.   :30.20</span></pre></body></html></div>
</div>
<div id="timeseries-plotting" class="section level2">
<h2 class="hasAnchor">
<a href="#timeseries-plotting" class="anchor"></a>Timeseries Plotting</h2>
<p>Plot received data as time series:</p>
<div class="sourceCode" id="cb26"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">xts</span>))
<span class="no">ts1056</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/xts/man/xts.html">xts</a></span>(<span class="no">observationData</span>[<span class="no">observationData</span>$<span class="no">siteID</span> <span class="kw">==</span> <span class="st">'1056'</span>,<span class="fl">3</span>], <span class="no">observationData</span>[<span class="no">observationData</span>$<span class="no">siteID</span> <span class="kw">==</span> <span class="st">'1056'</span>,<span class="st">"timestamp"</span>])
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">ts1056</span>) <span class="kw">&lt;-</span> <span class="st">"#1056"</span>
<span class="fu"><a href="https://rdrr.io/r/base/plot.html">plot</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="no">ts1056</span>, <span class="kw">main</span> <span class="kw">=</span> <span class="st">"Monthly: Extreme max. Temp. (°C)"</span>, <span class="kw">yaxis.right</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">legend.loc</span> <span class="kw">=</span> <span class="st">'topleft'</span>)</pre></body></html></div>
<p><img src="sos4R-vignette-05-wrapper-functions_files/figure-html/getData_timeseries_plot-1.png" width="700"></p>
<p>The next example gets data for two phenomena a site.</p>
<div class="sourceCode" id="cb27"><html><body><pre class="r"><span class="co"># TO BE IMPLEMENTED: merge different observation types - see https://github.com/52North/sos4R/issues/96#issuecomment-493424151</span>
<span class="no">observationData</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/getData.html">getData</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>,
       <span class="kw">phenomena</span> <span class="kw">=</span> <span class="no">phenomena</span>$<span class="no">phenomenon</span>[<span class="fl">1</span>:<span class="fl">2</span>],
       <span class="kw">sites</span> <span class="kw">=</span> <span class="no">siteList</span>$<span class="no">siteID</span>[<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">58</span>)],
       <span class="kw">begin</span> <span class="kw">=</span> <span class="kw pkg">parsedate</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/parsedate/man/parse_iso_8601.html">parse_iso_8601</a></span>(<span class="st">"1994-12-31T12:00:00+12:00"</span>),
       <span class="kw">end</span> <span class="kw">=</span> <span class="kw pkg">parsedate</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/parsedate/man/parse_iso_8601.html">parse_iso_8601</a></span>(<span class="st">"1995-12-31T12:00:00+12:00"</span>)
       )
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span>(<span class="no">observationData</span>)
<span class="co">#&gt; 'data.frame':    23 obs. of  4 variables:</span>
<span class="co">#&gt;  $ siteID                                                                       : Factor w/ 2 levels "1056","3925": 1 1 1 1 1 1 1 1 1 1 ...</span>
<span class="co">#&gt;  $ timestamp                                                                    : POSIXct, format: "1995-01-01" "1995-02-01" ...</span>
<span class="co">#&gt;  $ MTHLY_STATS: DAYS OF DEFICIT (WBal AWC=150mm) (MTHLY: DAYS OF DEFICIT (WBAL)): num  9 9 0 0 0 0 0 0 0 0 ...</span>
<span class="co">#&gt;   ..- attr(*, "metadata")=Formal class 'WmlMeasurementTimeseriesMetadata' [package "sos4R"] with 1 slot</span>
<span class="co">#&gt;   .. .. ..@ temporalExtent:Formal class 'GmlTimePeriod' [package "sos4R"] with 9 slots</span>
<span class="co">#&gt;   .. .. .. .. ..@ begin        : NULL</span>
<span class="co">#&gt;   .. .. .. .. ..@ beginPosition:Formal class 'GmlTimePosition' [package "sos4R"] with 4 slots</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ time                 : POSIXct[1:1], format: "1995-01-01"</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ frame                : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ calendarEraName      : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ indeterminatePosition: chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ end          : NULL</span>
<span class="co">#&gt;   .. .. .. .. ..@ endPosition  :Formal class 'GmlTimePosition' [package "sos4R"] with 4 slots</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ time                 : POSIXct[1:1], format: "1995-12-01"</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ frame                : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ calendarEraName      : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ indeterminatePosition: chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ duration     : chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ timeInterval : NULL</span>
<span class="co">#&gt;   .. .. .. .. ..@ frame        : chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ relatedTimes : list()</span>
<span class="co">#&gt;   .. .. .. .. ..@ id           : chr "phenomenonTime_1"</span>
<span class="co">#&gt;   ..- attr(*, "defaultPointMetadata")=Formal class 'WmlDefaultTVPMeasurementMetadata' [package "sos4R"] with 2 slots</span>
<span class="co">#&gt;   .. .. ..@ uom              : chr "DAY"</span>
<span class="co">#&gt;   .. .. ..@ interpolationType:Formal class 'WmlInterpolationType' [package "sos4R"] with 2 slots</span>
<span class="co">#&gt;   .. .. .. .. ..@ href : chr "http://www.opengis.net/def/timeseriesType/WaterML/2.0/continuous"</span>
<span class="co">#&gt;   .. .. .. .. ..@ title: chr "Instantaneous"</span>
<span class="co">#&gt;  $ MTHLY_STATS: DAYS OF OCCURRENCE (FOG) (MTHLY: FOG DAYS)                      : num  1 0 0 5 4 2 3 1 0 0 ...</span>
<span class="co">#&gt;   ..- attr(*, "metadata")=Formal class 'WmlMeasurementTimeseriesMetadata' [package "sos4R"] with 1 slot</span>
<span class="co">#&gt;   .. .. ..@ temporalExtent:Formal class 'GmlTimePeriod' [package "sos4R"] with 9 slots</span>
<span class="co">#&gt;   .. .. .. .. ..@ begin        : NULL</span>
<span class="co">#&gt;   .. .. .. .. ..@ beginPosition:Formal class 'GmlTimePosition' [package "sos4R"] with 4 slots</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ time                 : POSIXct[1:1], format: "1995-01-01"</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ frame                : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ calendarEraName      : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ indeterminatePosition: chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ end          : NULL</span>
<span class="co">#&gt;   .. .. .. .. ..@ endPosition  :Formal class 'GmlTimePosition' [package "sos4R"] with 4 slots</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ time                 : POSIXct[1:1], format: "1995-11-01"</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ frame                : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ calendarEraName      : chr NA</span>
<span class="co">#&gt;   .. .. .. .. .. .. ..@ indeterminatePosition: chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ duration     : chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ timeInterval : NULL</span>
<span class="co">#&gt;   .. .. .. .. ..@ frame        : chr NA</span>
<span class="co">#&gt;   .. .. .. .. ..@ relatedTimes : list()</span>
<span class="co">#&gt;   .. .. .. .. ..@ id           : chr "phenomenonTime_2"</span>
<span class="co">#&gt;   ..- attr(*, "defaultPointMetadata")=Formal class 'WmlDefaultTVPMeasurementMetadata' [package "sos4R"] with 2 slots</span>
<span class="co">#&gt;   .. .. ..@ uom              : chr "DAY"</span>
<span class="co">#&gt;   .. .. ..@ interpolationType:Formal class 'WmlInterpolationType' [package "sos4R"] with 2 slots</span>
<span class="co">#&gt;   .. .. .. .. ..@ href : chr "http://www.opengis.net/def/timeseriesType/WaterML/2.0/continuous"</span>
<span class="co">#&gt;   .. .. .. .. ..@ title: chr "Instantaneous"</span></pre></body></html></div>
<p>You can also retrieve data for phenomena from multiple sites.</p>
<div class="sourceCode" id="cb28"><html><body><pre class="r"><span class="no">multipleSites</span> <span class="kw">&lt;-</span> <span class="no">siteList</span>$<span class="no">siteID</span>[<span class="fl">1</span>:<span class="fl">2</span>]
<span class="no">observationData</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/getData.html">getData</a></span>(<span class="kw">sos</span> <span class="kw">=</span> <span class="no">mySos</span>,
                           <span class="kw">phenomena</span> <span class="kw">=</span> <span class="no">phenomena</span>[<span class="fl">18</span>, <span class="fl">1</span>],
                           <span class="kw">sites</span> <span class="kw">=</span> <span class="no">multipleSites</span>,
                           <span class="kw">begin</span> <span class="kw">=</span> <span class="kw pkg">parsedate</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/parsedate/man/parse_iso_8601.html">parse_iso_8601</a></span>(<span class="st">"1997-01-01T12:00:00+12:00"</span>),
                           <span class="kw">end</span> <span class="kw">=</span> <span class="kw pkg">parsedate</span><span class="kw ns">::</span><span class="fu"><a href="https://rdrr.io/pkg/parsedate/man/parse_iso_8601.html">parse_iso_8601</a></span>(<span class="st">"2000-01-02T12:00:00+12:00"</span>)
                           )


<span class="no">ts1056</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/xts/man/xts.html">xts</a></span>(<span class="no">observationData</span>[<span class="no">observationData</span>$<span class="no">siteID</span> <span class="kw">==</span> <span class="st">'1056'</span>, <span class="fl">3</span>], <span class="no">observationData</span>[<span class="no">observationData</span>$<span class="no">siteID</span> <span class="kw">==</span> <span class="st">'1056'</span>,<span class="st">"timestamp"</span>])
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">ts1056</span>) <span class="kw">&lt;-</span> <span class="st">"Station#1056"</span>
<span class="no">ts11234</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/xts/man/xts.html">xts</a></span>(<span class="no">observationData</span>[<span class="no">observationData</span>$<span class="no">siteID</span> <span class="kw">==</span> <span class="st">'11234'</span>, <span class="fl">3</span>], <span class="no">observationData</span>[<span class="no">observationData</span>$<span class="no">siteID</span> <span class="kw">==</span> <span class="st">'11234'</span>,<span class="st">"timestamp"</span>])
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span>(<span class="no">ts11234</span>) <span class="kw">&lt;-</span> <span class="st">"Station#11234"</span>
<span class="fu"><a href="https://rdrr.io/r/base/plot.html">plot</a></span>(<span class="kw">x</span> <span class="kw">=</span> <span class="fu">na.fill</span>(<span class="fu"><a href="https://rdrr.io/r/base/merge.html">merge</a></span>(<span class="no">ts1056</span>, <span class="no">ts11234</span>), <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="fl">NA</span>, <span class="st">"extend"</span>, <span class="fl">NA</span>)), <span class="kw">main</span> <span class="kw">=</span> <span class="st">"Monthly: Extreme max. Temp. (°C)"</span>, <span class="kw">yaxis.right</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">legend.loc</span> <span class="kw">=</span> <span class="st">'topleft'</span>)</pre></body></html></div>
<p><img src="sos4R-vignette-05-wrapper-functions_files/figure-html/getData_multipleB-1.png" width="700"></p>
<p>Map of the according sites:</p>
<div class="sourceCode" id="cb29"><html><body><pre class="r"><span class="no">sites_of_timeseries</span> <span class="kw">&lt;-</span> <span class="no">sites</span>[<span class="no">sites</span>$<span class="no">siteID</span> <span class="kw">==</span> <span class="st">"1056"</span> <span class="kw">|</span> <span class="no">sites</span>$<span class="no">siteID</span> <span class="kw">==</span> <span class="st">"11234"</span>,]
<span class="fu"><a href="https://rdrr.io/pkg/mapview/man/mapView.html">mapview</a></span>(<span class="no">sites_of_timeseries</span>, <span class="kw">legend</span> <span class="kw">=</span> <span class="fl">FALSE</span>, <span class="kw">col.regions</span> <span class="kw">=</span> <span class="st">"blue"</span>)</pre></body></html></div>
<div id="htmlwidget-0895448de4ace15e2c2d" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-0895448de4ace15e2c2d">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",1,"CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter",2,"CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenStreetMap",3,"OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",4,"Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenTopoMap",5,"OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[[-35.183,-42.53433],[173.926,172.85098],6,null,"sites_of_timeseries",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":2,"opacity":[0.9,0.9],"fill":true,"fillColor":"#0000FF","fillOpacity":[0.6,0.6]},null,null,["<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>1056&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>2&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>siteID&emsp;<\/b><\/td><td align='right'>11234&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["1056","11234"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[172.85098,-42.53433,173.926,-35.183,"sites_of_timeseries","Zoom to sites_of_timeseries","<strong> sites_of_timeseries <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],"sites_of_timeseries",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[-42.53433,-35.183],"lng":[172.85098,173.926]}},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Daniel Nuest, Ben Graeler, Benjamin Pross, Eike Hinderk Juerrens.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
