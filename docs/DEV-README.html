<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>sos4R developer documentation • sos4R</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>



<meta property="og:title" content="sos4R developer documentation" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sos4R</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>sos4R developer documentation</h1>
    </div>

<div id="sos4r-developer-documentation" class="section level1">

<div id="versioning" class="section level2">
<h2 class="hasAnchor">
<a href="#versioning" class="anchor"></a>Versioning</h2>
<p>The package uses <a href="https://semver.org/">semantic versioning</a>. The current development version should start with <code>.9000</code> <em>after</em> the patch version, see <a href="http://r-pkgs.had.co.nz/description.html#version">R packages versioning</a>.</p>
</div>
<div id="package-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#package-structure" class="anchor"></a>Package structure</h2>
<p>sos4R follows the regular R extension package structure. General documentation about R package development can be found at the following two websites.</p>
<ul>
<li>R extension packages by Hadley: <a href="http://r-pkgs.had.co.nz/" class="uri">http://r-pkgs.had.co.nz/</a> (well written with tight coupling to devtools and RStudio)</li>
<li>R extension manual: <a href="http://cran.r-project.org/doc/manuals/R-exts.html" class="uri">http://cran.r-project.org/doc/manuals/R-exts.html</a> (generic, extensive)</li>
</ul>
</div>
<div id="r" class="section level2">
<h2 class="hasAnchor">
<a href="#r" class="anchor"></a>/R</h2>
<p>The actual source files in the <code>/R</code> directory follow a naming schema:</p>
<ul>
<li>
<code>Class-XXX.R</code> contain class definitions, which are grouped by OGC specification namespace
<ul>
<li>GML</li>
<li>OGC</li>
<li>OM</li>
<li>OWS</li>
<li>SA</li>
<li>SML</li>
<li>SOS, additionally split up into versions</li>
<li>SWE</li>
<li>WaterML</li>
</ul>
</li>
<li>
<code>constants.R</code> contains … constants! No XML element name or parameters string shall be specified outside of this class</li>
<li>
<code>defaults.R</code> contains default settings and values, including parsers, encoders, etc.</li>
<li>
<code>Generic-methods.R</code> contains <em>all</em> generic method definitions</li>
<li>
<code>XXX-methods.R</code> contains methods and used (helper or delegate) functions grouped by OGC specification namespace for…
<ul>
<li>creation methods</li>
<li>encoding methods</li>
</ul>
</li>
<li>
<code>XXX-methods-parsing.R</code> contains parsing methods grouped by OGC specification namespace</li>
<li>
<code>XXX-methods-coercion.R</code> contains coercion methods grouped by OGC specification namespace to map from sos4R’s classes to R objects</li>
<li>
<code>XXX-methods-accessor.R</code> and <code>XXX-methods-util.R</code> contains accessor functions (which should be used over direct slot access) or utility functions (which are not well defined what they are in contrast to non-utility functions…) grouped by OGC specification namespace</li>
<li>
<code>PrintShowStructureSummary-methods.R</code> contains just that</li>
</ul>
</div>
<div id="sandbox" class="section level2">
<h2 class="hasAnchor">
<a href="#sandbox" class="anchor"></a>/sandbox</h2>
<p>In addition to the regular directories, the <code>/sandbox</code> folder contains a wild list of R scripts with tests and demos etc.</p>
</div>
<div id="building-the-vignette-locally" class="section level2">
<h2 class="hasAnchor">
<a href="#building-the-vignette-locally" class="anchor"></a>Building the vignette locally</h2>
<p>To build the vignette locally, you can the following calls on the R command line:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/getwd">setwd</a></span>(<span class="st">"./vignettes"</span>)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/Sweave">Sweave</a></span>(<span class="dt">file =</span> <span class="st">"sos4R.Rnw"</span>)</a></code></pre></div>
<p>Or simply click on the “CompilePDF” button in RStudio</p>
<div id="the--goonline-option" class="section level3">
<h3 class="hasAnchor">
<a href="#the--goonline-option" class="anchor"></a>The <code>.goOnline</code> option</h3>
<p>To reduce download times while building the vignette it can store the responses of the required requests in local files and create the vignette based on these files. By the default, data is downloaded from the 52°North testbed SOS, and this must be done at least once after checking out the project. For this you must set your working directory to <code>sos4R/vignettes</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/getwd">setwd</a></span>(<span class="st">"./vignettes"</span>)</a></code></pre></div>
<p>Afterwards, you can deactivate download and thereby activate using the local files at the beginning of the vignette:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode tex"><code class="sourceCode latex"><a class="sourceLine" id="cb3-1" data-line-number="1">&lt;&lt;options,echo=FALSE,results=hide,print=FALSE&gt;&gt;= </a>
<a class="sourceLine" id="cb3-2" data-line-number="2">.goOnline &lt;- TRUE # triggers whether data is downloaded and stored in /vignettes folder</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">.verbose &lt;- FALSE</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">@</a></code></pre></div>
</div>
</div>
<div id="classes" class="section level2">
<h2 class="hasAnchor">
<a href="#classes" class="anchor"></a>Classes</h2>
<p>Data models, i.e. requests and responses, are modelled as <strong>S4 classes</strong>. Documentation can be found at the following sites (and others):</p>
<ul>
<li>The S4 object system: <a href="http://adv-r.had.co.nz/S4.html" class="uri">http://adv-r.had.co.nz/S4.html</a> (short, must read)</li>
<li>A (Not So) Short Introduction to S4: <a href="https://cran.r-project.org/doc/contrib/Genolini-S4tutorialV0-5en.pdf" class="uri">https://cran.r-project.org/doc/contrib/Genolini-S4tutorialV0-5en.pdf</a> (not so short)</li>
<li>Classes and Methods in the S Language: <a href="http://www.omegahat.org/RSMethods/Intro.pdf" class="uri">http://www.omegahat.org/RSMethods/Intro.pdf</a> (by Chambers!)</li>
</ul>
</div>
<div id="tests" class="section level2">
<h2 class="hasAnchor">
<a href="#tests" class="anchor"></a>Tests</h2>
</div>
<div id="add-features" class="section level2">
<h2 class="hasAnchor">
<a href="#add-features" class="anchor"></a>Add features</h2>
<div id="how-to-add-a-parser" class="section level3">
<h3 class="hasAnchor">
<a href="#how-to-add-a-parser" class="anchor"></a>How to add a parser</h3>
<ul>
<li>by element name</li>
<li>by mime type</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">SosParsingFunctions</span>()</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co"># add a local parser</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="kw">SosParsingFunctions</span>(<span class="st">"TimeseriesKVP"</span> =<span class="st"> </span><span class="cf">function</span>() { ... })</a></code></pre></div>
</div>
<div id="how-to-add-an-encoder" class="section level3">
<h3 class="hasAnchor">
<a href="#how-to-add-an-encoder" class="anchor"></a>How to add an encoder</h3>
<p>…</p>
</div>
</div>
</div>

  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Daniel Nuest.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

